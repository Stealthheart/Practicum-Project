#encoding: utf-8
#:import App kivy.app.App
<MyScreenManager>:
    id: 'manager'
    StartScreen:
    CourseScreen:
    ProfileScreen:
    HiraganaLessonScreen:
    KatakanaLessonScreen:
    KanjiLessonScreen:
    PriorToQuestionsScreen:
    QuestionScreen:
    ResultsScreen:

<StartScreen>:
    name: 'start'
    RelativeLayout:
        size: 500, 800
        Label:
            text: 'Japanese'
            font_size: 40
            size: 100, 100
            pos_hint: {'center_x': .5, 'center_y': .9}
        Label:
            text: 'Character Recognizer'
            font_size: 40
            size: 100, 100
            pos_hint: {'center_x': .5, 'center_y': .8}
        Button:
            text: 'Courses'
            font_size: 20
            on_release: app.root.current = 'course'
            size_hint: None, None
            size: 300, 50
            pos_hint: {'center_x': .5, 'center_y': .6}
        Button:
            text: 'Profiles'
            font_size: 18
            on_release: app.root.current = 'profiles'
            size_hint: None, None
            size: 300, 50
            pos_hint: {'center_x': .5, 'center_y': .5}
        Button:
            text: 'Quit'
            font_size: 18
            on_release: App.get_running_app().stop()
            size_hint: None, None
            size: 300, 50
            pos_hint: {'center_x': .5, 'center_y': .4}

<CourseScreen>:
    name: 'course'
    RelativeLayout:
        size: 500, 800
        Label:
            text: 'Courses'
            font_size: 40
            pos_hint: {'center_x': .5, 'center_y': .9}
        Button:
            text: 'Hiragana Lessons'
            font_size: 20
            on_release: app.root.current = 'hLessons'
            size_hint: None, None
            size: 300, 50
            pos_hint: {'center_x': .5, 'center_y': .8}
        Button:
            text: 'Katakana Lessons'
            font_size: 20
            on_release: app.root.current = 'kataLessons'
            size_hint: None, None
            size: 300, 50
            pos_hint: {'center_x': .5, 'center_y': .7}
        Button:
            text: 'Kanji Lessons'
            font_size: 20
            on_release: app.root.current = 'kanjiLessons'
            size_hint: None, None
            size: 300, 50
            pos_hint: {'center_x': .5, 'center_y': .6}
        Button:
            text: 'Back to Main Menu'
            font_size: 14
            on_release: app.root.current = 'start'
            size_hint: None, None
            size: 300, 50
            pos_hint: {'center_x': .5, 'center_y': .1}

<ProfileScreen>:
    name: 'profiles'
    BoxLayout:
        orientation: 'vertical'
        BoxLayout:
            orientation: 'horizontal'
            Label:
                text: 'Name: '
                size_hint_y: None
            TextInput:
                id: myTextInput
                font_size: 20
                size_hint_y: None
                height: 50
                text: 'default'
        Button:
            text: 'back to start screen'
            font_size: 15
            on_release: app.root.current = 'start'

<HiraganaLessonScreen>
    name: 'hLessons'
    RelativeLayout:
        size: 500, 800
        Label:
            text: 'Hiragana Lessons'
            font_size: 40
            pos_hint: {'center_x': .5, 'center_y': .9}
        Button:
            text: 'Back to Courses'
            font_size: 14
            on_release: app.root.current = 'course'
            size_hint: None, None
            size: 250, 40
            pos_hint: {'center_x': .5, 'center_y': .1}

<KatakanaLessonScreen>
    name: 'kataLessons'
    RelativeLayout:
        size: 500, 800
        Label:
            text: 'Katakana Lessons'
            font_size: 40
            pos_hint: {'center_x': .5, 'center_y': .9}
        Button:
            text: 'Back to Courses'
            font_size: 14
            on_release: app.root.current = 'course'
            size_hint: None, None
            size: 250, 40
            pos_hint: {'center_x': .5, 'center_y': .1}

<KanjiLessonScreen>
    name: 'kanjiLessons'
    RelativeLayout:
        size: 500, 800
        Label:
            text: 'Kanji Lessons'
            font_size: 40
            pos_hint: {'center_x': .5, 'center_y': .9}
        Button:
            text: 'Back to Courses'
            font_size: 14
            on_release: app.root.current = 'course'
            size_hint: None, None
            size: 250, 40
            pos_hint: {'center_x': .5, 'center_y': .1}

<PriorToQuestionsScreen>
    name: 'priorToQuestions'
    id: priorPP
    RelativeLayout:
        Label:
            id: lessonText
            text: 'Hira, Kata, Kanji'
            size_hint_y: None
            font_size: 60
            pos_hint: {'center_x': .5, 'center_y': .95}
        Label:
            id: lessonNum
            text: 'Lesson X'
            size_hint_y: None
            font_size: 40
            pos_hint: {'center_x': .5, 'center_y': .85}
        Label:
            id: lessonTitle
            text: 'Placeholder'
            size_hint_y: None
            font_size: 30
            pos_hint: {'center_x': .5, 'center_y': .70}
        Label:
            text: '20 Questions'
            size_hint_y: None
            font_size: 20
            pos_hint: {'center_x': .5, 'center_y': .60}
        Label:
            text: '80% accuracy for next unlock'
            size_hint_y: None
            font_size: 18
            pos_hint: {'center_x': .5, 'center_y': .55}
        Button:
            text: 'Start Lesson'
            font_size: 16
            on_release: app.root.current = 'question'
            size_hint: None, None
            size: 250, 40
            pos_hint: {'center_x': .5, 'center_y': .35}
        Button:
            text: '?'
            font_size: 16
            on_release: priorPP.displayPopup()
            size_hint: None, None
            size: 50, 50
            pos_hint: {'center_x': .95, 'center_y': .5}
        Button:
            text: 'Back to Lessons'
            font_size: 14
            on_release: priorPP.loadOriginalLessonList()
            size_hint: None, None
            size: 250, 40
            pos_hint: {'center_x': .5, 'center_y': .2}

<QuestionScreen>
    name: 'question'
    RelativeLayout:
        MyPaintWidget:
            id: drawingCanvas
        Label:
            text: 'Q 1/20'
            font_size: 20
            pos_hint: {'center_x': .9, 'center_y': .95}
        Label:
            text: 'Example question 1'
            font_size: 32
            pos_hint: {'center_x': .5, 'center_y': .8}
        Button:
            text: 'Clear'
            font_size: 10
            on_release: drawingCanvas.canvas.clear()
            size_hint: None, None
            size: 80, 40
            pos_hint: {'center_x': .12, 'center_y': .23}
        Button:
            text: 'Save Picture'
            font_size: 10
            on_release: drawingCanvas.save()
            size_hint: None, None
            size: 80, 40
            pos_hint: {'center_x': .5, 'center_y': .1}
        Button:
            text: 'Submit Answer'
            font_size: 20
            on_release:
                drawingCanvas.canvas.clear()
                app.root.current = 'results'
            size_hint: None, None
            size: 150, 40
            pos_hint: {'center_x': .83, 'center_y': .07}
        Button:
            text: 'Leave'
            font_size: 10
            on_release:
                drawingCanvas.canvas.clear()
                app.root.current = 'course'
            size_hint: None, None
            size: 80, 40
            pos_hint: {'center_x': .1, 'center_y': .95}

<ResultsScreen>
    name: 'results'
    BoxLayout:
        orientation: 'vertical'
        Label:
            text: 'Results'
            font_size: 22
        Label:
            text: 'You got 11/20 questions correct'
            font_size: 18
        Label:
            text: 'Accuracy: 55%'
            font_size: 15
        Label:
            text: 'Try again to unlock the next lesson!'
            font_size: 18
        Button:
            text: 'Back to Lesson List'
            font_size: 12
            on_release: app.root.current = 'course'